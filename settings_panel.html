<!-- è®¾ç½®é¢æ¿ -->
<div id="settings-panel" class="panel">
    <div class="search-panel">
        <div class="panel-title">âš™ï¸ ç³»ç»Ÿè®¾ç½®</div>
        
        <!-- è®¾ç½®æ ‡ç­¾é¡µ -->
        <div class="settings-tabs">
            <button class="tab-button active" onclick="showSettingsTab('download')">ä¸‹è½½è®¾ç½®</button>
            <button class="tab-button" onclick="showSettingsTab('search')">æœç´¢è®¾ç½®</button>
            <button class="tab-button" onclick="showSettingsTab('motrix')">Motrixè®¾ç½®</button>
            <button class="tab-button" onclick="showSettingsTab('category')">åˆ†ç±»è®¾ç½®</button>
            <button class="tab-button" onclick="showSettingsTab('advanced')">é«˜çº§è®¾ç½®</button>
        </div>

        <!-- ä¸‹è½½è®¾ç½® -->
        <div id="download-settings" class="settings-tab active">
            <div class="settings-section">
                <h4>ğŸ“¥ ä¸‹è½½é…ç½®</h4>
                <div class="settings-grid">
                    <div class="setting-item">
                        <label>ä¸‹è½½ç›®å½•:</label>
                        <div class="input-group">
                            <input type="text" id="download-dir" class="form-input" value="H:\XJ\rpg_assets" readonly>
                            <button class="action-button" onclick="browseDownloadDir()">æµè§ˆ...</button>
                        </div>
                    </div>
                    <div class="setting-item">
                        <label>æœ€å¤§å¹¶å‘ä¸‹è½½:</label>
                        <input type="number" id="max-concurrent" class="form-input" value="5" min="1" max="10">
                    </div>
                    <div class="setting-item">
                        <label>ä¸‹è½½è¶…æ—¶(ç§’):</label>
                        <input type="number" id="download-timeout" class="form-input" value="300" min="60" max="3600">
                    </div>
                    <div class="setting-item">
                        <label>é‡è¯•æ¬¡æ•°:</label>
                        <input type="number" id="retry-count" class="form-input" value="3" min="0" max="10">
                    </div>
                    <div class="setting-item">
                        <label>é‡è¯•é—´éš”(ç§’):</label>
                        <input type="number" id="retry-interval" class="form-input" value="5" min="1" max="60">
                    </div>
                </div>
                <div class="setting-options">
                    <label class="checkbox-label">
                        <input type="checkbox" id="enable-resume" checked>
                        <span>å¯ç”¨æ–­ç‚¹ç»­ä¼ </span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="verify-files" checked>
                        <span>ä¸‹è½½å®ŒæˆåéªŒè¯æ–‡ä»¶å®Œæ•´æ€§</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="auto-extract">
                        <span>è‡ªåŠ¨è§£å‹ZIPæ–‡ä»¶</span>
                    </label>
                </div>
            </div>
        </div>

        <!-- æœç´¢è®¾ç½® -->
        <div id="search-settings" class="settings-tab">
            <div class="settings-section">
                <h4>ğŸ” æœç´¢é…ç½®</h4>
                <div class="settings-grid">
                    <div class="setting-item">
                        <label>é»˜è®¤æœç´¢æ•°é‡:</label>
                        <input type="number" id="default-search-count" class="form-input" value="10" min="1" max="100">
                    </div>
                    <div class="setting-item">
                        <label>è¯·æ±‚è¶…æ—¶(ç§’):</label>
                        <input type="number" id="request-timeout" class="form-input" value="15" min="5" max="60">
                    </div>
                    <div class="setting-item">
                        <label>é‡è¯•æ¬¡æ•°:</label>
                        <input type="number" id="search-retry-count" class="form-input" value="3" min="0" max="10">
                    </div>
                    <div class="setting-item">
                        <label>è¯·æ±‚å»¶è¿Ÿ(ç§’):</label>
                        <input type="number" id="request-delay" class="form-input" value="1" min="0" max="5" step="0.1">
                    </div>
                    <div class="setting-item">
                        <label>å¹¶å‘çº¿ç¨‹æ•°:</label>
                        <input type="number" id="concurrent-threads" class="form-input" value="5" min="1" max="10">
                    </div>
                    <div class="setting-item">
                        <label>æ¯æºæœ€å¤§ç»“æœ:</label>
                        <input type="number" id="max-per-source" class="form-input" value="3" min="1" max="20">
                    </div>
                </div>
                <div class="setting-options">
                    <label class="checkbox-label">
                        <input type="checkbox" id="smart-dedup" checked>
                        <span>æ™ºèƒ½å»é‡</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="auto-classify" checked>
                        <span>è‡ªåŠ¨åˆ†ç±»</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="save-search-history">
                        <span>ä¿å­˜æœç´¢å†å²</span>
                    </label>
                </div>
            </div>
        </div>

        <!-- Motrixè®¾ç½® -->
        <div id="motrix-settings" class="settings-tab">
            <div class="settings-section">
                <h4>âš¡ Motrixé…ç½®</h4>
                <div class="settings-grid">
                    <div class="setting-item">
                        <label>æœåŠ¡å™¨åœ°å€:</label>
                        <input type="text" id="motrix-host" class="form-input" value="127.0.0.1">
                    </div>
                    <div class="setting-item">
                        <label>ç«¯å£:</label>
                        <input type="number" id="motrix-port" class="form-input" value="16800" min="1" max="65535">
                    </div>
                    <div class="setting-item">
                        <label>RPC Token:</label>
                        <input type="password" id="motrix-token" class="form-input" value="a2HrlXF2L18b">
                    </div>
                    <div class="setting-item">
                        <label>è¿æ¥è¶…æ—¶(ç§’):</label>
                        <input type="number" id="motrix-timeout" class="form-input" value="10" min="1" max="60">
                    </div>
                </div>
                <div class="connection-test">
                    <button class="control-button primary" onclick="testMotrixConnection()">æµ‹è¯•è¿æ¥</button>
                    <div id="connection-status" class="connection-status">
                        <span class="status-dot"></span>
                        <span>æœªæµ‹è¯•</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- åˆ†ç±»è®¾ç½® -->
        <div id="category-settings" class="settings-tab">
            <div class="settings-section">
                <h4>ğŸ“ åˆ†ç±»é…ç½®</h4>
                <div class="setting-options">
                    <label class="checkbox-label">
                        <input type="checkbox" id="enable-auto-classify" checked>
                        <span>å¯ç”¨è‡ªåŠ¨åˆ†ç±»</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="auto-create-dirs" checked>
                        <span>è‡ªåŠ¨åˆ›å»ºåˆ†ç±»ç›®å½•</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="move-to-category">
                        <span>ä¸‹è½½åè‡ªåŠ¨ç§»åŠ¨åˆ°åˆ†ç±»ç›®å½•</span>
                    </label>
                </div>
                <div class="category-rules">
                    <h5>åˆ†ç±»è§„åˆ™ç®¡ç†</h5>
                    <div class="rules-list">
                        <div class="rule-item">
                            <div class="rule-header">
                                <span class="rule-name">è§’è‰²ç±»</span>
                                <button class="action-button" onclick="editRule('characters')">ç¼–è¾‘</button>
                            </div>
                            <div class="rule-content">
                                <strong>å…³é”®è¯:</strong> character, hero, player, npc, avatar, person, warrior, mage<br>
                                <strong>æ–‡ä»¶ç±»å‹:</strong> .blend, .fbx, .obj, .dae
                            </div>
                        </div>
                        <div class="rule-item">
                            <div class="rule-header">
                                <span class="rule-name">æ­¦å™¨ç±»</span>
                                <button class="action-button" onclick="editRule('weapons')">ç¼–è¾‘</button>
                            </div>
                            <div class="rule-content">
                                <strong>å…³é”®è¯:</strong> weapon, sword, bow, staff, magic, blade, axe, spear<br>
                                <strong>æ–‡ä»¶ç±»å‹:</strong> .blend, .fbx, .obj, .dae
                            </div>
                        </div>
                        <div class="rule-item">
                            <div class="rule-header">
                                <span class="rule-name">æŠ¤ç”²ç±»</span>
                                <button class="action-button" onclick="editRule('armor')">ç¼–è¾‘</button>
                            </div>
                            <div class="rule-content">
                                <strong>å…³é”®è¯:</strong> armor, helmet, shield, clothing, equipment, gear<br>
                                <strong>æ–‡ä»¶ç±»å‹:</strong> .blend, .fbx, .obj, .dae
                            </div>
                        </div>
                    </div>
                    <button class="control-button secondary" onclick="addNewRule()">æ·»åŠ æ–°è§„åˆ™</button>
                </div>
            </div>
        </div>

        <!-- é«˜çº§è®¾ç½® -->
        <div id="advanced-settings" class="settings-tab">
            <div class="settings-section">
                <h4>ğŸ”§ é«˜çº§é…ç½®</h4>
                <div class="settings-grid">
                    <div class="setting-item">
                        <label>æ—¥å¿—çº§åˆ«:</label>
                        <select id="log-level" class="form-select">
                            <option value="DEBUG">DEBUG</option>
                            <option value="INFO" selected>INFO</option>
                            <option value="WARNING">WARNING</option>
                            <option value="ERROR">ERROR</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label>æ—¥å¿—æ–‡ä»¶å¤§å°(MB):</label>
                        <input type="number" id="log-file-size" class="form-input" value="10" min="1" max="100">
                    </div>
                    <div class="setting-item">
                        <label>ä¿ç•™æ—¥å¿—æ–‡ä»¶æ•°:</label>
                        <input type="number" id="log-file-count" class="form-input" value="5" min="1" max="20">
                    </div>
                    <div class="setting-item">
                        <label>ç¼“å­˜å¤§å°(MB):</label>
                        <input type="number" id="cache-size" class="form-input" value="100" min="10" max="1000">
                    </div>
                </div>
                <div class="setting-options">
                    <label class="checkbox-label">
                        <input type="checkbox" id="enable-cache" checked>
                        <span>å¯ç”¨æœç´¢ç»“æœç¼“å­˜</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="auto-update">
                        <span>è‡ªåŠ¨æ£€æŸ¥æ›´æ–°</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="send-analytics">
                        <span>å‘é€åŒ¿åä½¿ç”¨ç»Ÿè®¡</span>
                    </label>
                </div>
                <div class="advanced-actions">
                    <button class="control-button secondary" onclick="clearCache()">æ¸…ç©ºç¼“å­˜</button>
                    <button class="control-button secondary" onclick="exportSettings()">å¯¼å‡ºè®¾ç½®</button>
                    <button class="control-button secondary" onclick="importSettings()">å¯¼å…¥è®¾ç½®</button>
                    <button class="control-button danger" onclick="resetSettings()">æ¢å¤é»˜è®¤</button>
                </div>
            </div>
        </div>

        <!-- è®¾ç½®æ“ä½œæŒ‰é’® -->
        <div class="settings-actions">
            <button class="control-button primary" onclick="saveSettings()">ä¿å­˜è®¾ç½®</button>
            <button class="control-button secondary" onclick="cancelSettings()">å–æ¶ˆ</button>
        </div>
    </div>
</div>

<!-- åˆ†ç±»è§„åˆ™ç¼–è¾‘å¯¹è¯æ¡† -->
<div id="rule-edit-modal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3>ğŸ“ ç¼–è¾‘åˆ†ç±»è§„åˆ™</h3>
            <button class="close-button" onclick="closeModal('rule-edit-modal')">Ã—</button>
        </div>
        <div class="modal-body">
            <div class="rule-edit-form">
                <div class="form-group">
                    <label>è§„åˆ™åç§°:</label>
                    <input type="text" id="rule-name" class="form-input" placeholder="è¾“å…¥è§„åˆ™åç§°">
                </div>
                <div class="form-group">
                    <label>å…³é”®è¯ (ç”¨é€—å·åˆ†éš”):</label>
                    <textarea id="rule-keywords" class="form-textarea" placeholder="character, hero, player, npc..."></textarea>
                </div>
                <div class="form-group">
                    <label>æ–‡ä»¶æ‰©å±•å (ç”¨é€—å·åˆ†éš”):</label>
                    <textarea id="rule-extensions" class="form-textarea" placeholder=".blend, .fbx, .obj, .dae"></textarea>
                </div>
                <div class="form-group">
                    <label>æ’é™¤å…³é”®è¯ (ç”¨é€—å·åˆ†éš”):</label>
                    <textarea id="rule-exclude" class="form-textarea" placeholder="weapon, armor, environment..."></textarea>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="control-button primary" onclick="saveRule()">ä¿å­˜è§„åˆ™</button>
            <button class="control-button secondary" onclick="closeModal('rule-edit-modal')">å–æ¶ˆ</button>
        </div>
    </div>
</div>

<style>
/* è®¾ç½®é¢æ¿æ ·å¼ */
.settings-tabs {
    display: flex;
    gap: 5px;
    margin-bottom: 20px;
    border-bottom: 1px solid #7F8C8D;
}

.tab-button {
    padding: 10px 20px;
    background: transparent;
    border: none;
    color: #BDC3C7;
    cursor: pointer;
    border-bottom: 2px solid transparent;
    transition: all 0.3s ease;
}

.tab-button:hover {
    color: #ECF0F1;
    background: rgba(230, 126, 34, 0.1);
}

.tab-button.active {
    color: #E67E22;
    border-bottom-color: #E67E22;
}

.settings-tab {
    display: none;
}

.settings-tab.active {
    display: block;
}

.settings-section {
    background: rgba(44, 62, 80, 0.3);
    border-radius: 6px;
    padding: 20px;
    margin-bottom: 20px;
}

.settings-section h4 {
    color: #E67E22;
    margin-bottom: 15px;
    font-size: 16px;
}

.settings-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 15px;
    margin-bottom: 20px;
}

.setting-item {
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.setting-item label {
    font-size: 12px;
    color: #BDC3C7;
    font-weight: bold;
}

.input-group {
    display: flex;
    gap: 10px;
}

.input-group .form-input {
    flex: 1;
}

.setting-options {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.checkbox-label {
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    font-size: 14px;
}

.checkbox-label input[type="checkbox"] {
    width: 16px;
    height: 16px;
}

.connection-test {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-top: 15px;
}

.connection-status {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 14px;
}

.connection-status .status-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: #7F8C8D;
}

.connection-status.connected .status-dot {
    background: #2ECC71;
}

.connection-status.error .status-dot {
    background: #E74C3C;
}

.category-rules {
    margin-top: 20px;
}

.category-rules h5 {
    color: #E67E22;
    margin-bottom: 15px;
}

.rules-list {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-bottom: 15px;
}

.rule-item {
    background: rgba(52, 73, 94, 0.5);
    border: 1px solid #7F8C8D;
    border-radius: 6px;
    padding: 15px;
}

.rule-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}

.rule-name {
    font-weight: bold;
    color: #E67E22;
}

.rule-content {
    font-size: 12px;
    color: #BDC3C7;
    line-height: 1.5;
}

.advanced-actions {
    display: flex;
    gap: 10px;
    margin-top: 20px;
    flex-wrap: wrap;
}

.control-button.danger {
    background: #E74C3C;
    color: white;
}

.control-button.danger:hover {
    background: #C0392B;
}

.settings-actions {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    margin-top: 20px;
    padding-top: 20px;
    border-top: 1px solid #7F8C8D;
}

.form-textarea {
    padding: 8px 12px;
    border: 1px solid #7F8C8D;
    border-radius: 4px;
    background: #34495E;
    color: #ECF0F1;
    font-size: 14px;
    font-family: inherit;
    resize: vertical;
    min-height: 80px;
}

.form-textarea:focus {
    outline: none;
    border-color: #E67E22;
    box-shadow: 0 0 5px rgba(230, 126, 34, 0.3);
}
</style>

<script>
// è®¾ç½®é¢æ¿åŠŸèƒ½
function showSettingsTab(tabName) {
    // éšè—æ‰€æœ‰æ ‡ç­¾é¡µ
    document.querySelectorAll('.settings-tab').forEach(tab => {
        tab.classList.remove('active');
    });
    
    // ç§»é™¤æ‰€æœ‰æ ‡ç­¾æŒ‰é’®çš„activeçŠ¶æ€
    document.querySelectorAll('.tab-button').forEach(button => {
        button.classList.remove('active');
    });
    
    // æ˜¾ç¤ºé€‰ä¸­çš„æ ‡ç­¾é¡µ
    document.getElementById(tabName + '-settings').classList.add('active');
    
    // æ¿€æ´»å¯¹åº”çš„æ ‡ç­¾æŒ‰é’®
    event.target.classList.add('active');
}

function browseDownloadDir() {
    // è¿™é‡Œåº”è¯¥è°ƒç”¨æ–‡ä»¶é€‰æ‹©å¯¹è¯æ¡†
    alert('æ–‡ä»¶é€‰æ‹©å¯¹è¯æ¡†åŠŸèƒ½éœ€è¦é›†æˆæ–‡ä»¶ç³»ç»ŸAPI');
}

function testMotrixConnection() {
    const status = document.getElementById('connection-status');
    const host = document.getElementById('motrix-host').value;
    const port = document.getElementById('motrix-port').value;
    const token = document.getElementById('motrix-token').value;
    
    status.innerHTML = '<span class="status-dot"></span><span>æµ‹è¯•ä¸­...</span>';
    
    // æ¨¡æ‹Ÿè¿æ¥æµ‹è¯•
    setTimeout(() => {
        // è¿™é‡Œåº”è¯¥å®é™…æµ‹è¯•Motrixè¿æ¥
        const success = Math.random() > 0.3; // æ¨¡æ‹Ÿ70%æˆåŠŸç‡
        
        if (success) {
            status.innerHTML = '<span class="status-dot"></span><span>è¿æ¥æˆåŠŸ</span>';
            status.classList.add('connected');
            status.classList.remove('error');
        } else {
            status.innerHTML = '<span class="status-dot"></span><span>è¿æ¥å¤±è´¥</span>';
            status.classList.add('error');
            status.classList.remove('connected');
        }
    }, 2000);
}

function editRule(ruleType) {
    const rules = {
        'characters': {
            name: 'è§’è‰²ç±»',
            keywords: 'character, hero, player, npc, avatar, person, warrior, mage',
            extensions: '.blend, .fbx, .obj, .dae',
            exclude: 'weapon, armor, environment, ui, effect'
        },
        'weapons': {
            name: 'æ­¦å™¨ç±»',
            keywords: 'weapon, sword, bow, staff, magic, blade, axe, spear',
            extensions: '.blend, .fbx, .obj, .dae',
            exclude: 'character, armor, environment, ui, effect'
        },
        'armor': {
            name: 'æŠ¤ç”²ç±»',
            keywords: 'armor, helmet, shield, clothing, equipment, gear',
            extensions: '.blend, .fbx, .obj, .dae',
            exclude: 'character, weapon, environment, ui, effect'
        }
    };
    
    const rule = rules[ruleType];
    if (rule) {
        document.getElementById('rule-name').value = rule.name;
        document.getElementById('rule-keywords').value = rule.keywords;
        document.getElementById('rule-extensions').value = rule.extensions;
        document.getElementById('rule-exclude').value = rule.exclude;
        
        showModal('rule-edit-modal');
    }
}

function addNewRule() {
    document.getElementById('rule-name').value = '';
    document.getElementById('rule-keywords').value = '';
    document.getElementById('rule-extensions').value = '';
    document.getElementById('rule-exclude').value = '';
    
    showModal('rule-edit-modal');
}

function saveRule() {
    const name = document.getElementById('rule-name').value;
    const keywords = document.getElementById('rule-keywords').value;
    const extensions = document.getElementById('rule-extensions').value;
    const exclude = document.getElementById('rule-exclude').value;
    
    if (!name.trim() || !keywords.trim()) {
        alert('è¯·å¡«å†™è§„åˆ™åç§°å’Œå…³é”®è¯');
        return;
    }
    
    alert(`ä¿å­˜è§„åˆ™: ${name}`);
    closeModal('rule-edit-modal');
}

function clearCache() {
    if (confirm('ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰ç¼“å­˜å—ï¼Ÿ')) {
        alert('ç¼“å­˜å·²æ¸…ç©º');
    }
}

function exportSettings() {
    alert('æ­£åœ¨å¯¼å‡ºè®¾ç½®...');
    // è¿™é‡Œå¯ä»¥æ·»åŠ å®é™…çš„å¯¼å‡ºé€»è¾‘
}

function importSettings() {
    alert('è¯·é€‰æ‹©è¦å¯¼å…¥çš„è®¾ç½®æ–‡ä»¶...');
    // è¿™é‡Œå¯ä»¥æ·»åŠ å®é™…çš„å¯¼å…¥é€»è¾‘
}

function resetSettings() {
    if (confirm('ç¡®å®šè¦æ¢å¤æ‰€æœ‰è®¾ç½®ä¸ºé»˜è®¤å€¼å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ã€‚')) {
        alert('è®¾ç½®å·²æ¢å¤ä¸ºé»˜è®¤å€¼');
        // è¿™é‡Œå¯ä»¥æ·»åŠ å®é™…çš„é‡ç½®é€»è¾‘
    }
}

function saveSettings() {
    // æ”¶é›†æ‰€æœ‰è®¾ç½®å€¼
    const settings = {
        download: {
            dir: document.getElementById('download-dir').value,
            maxConcurrent: document.getElementById('max-concurrent').value,
            timeout: document.getElementById('download-timeout').value,
            retryCount: document.getElementById('retry-count').value,
            retryInterval: document.getElementById('retry-interval').value,
            enableResume: document.getElementById('enable-resume').checked,
            verifyFiles: document.getElementById('verify-files').checked,
            autoExtract: document.getElementById('auto-extract').checked
        },
        search: {
            defaultCount: document.getElementById('default-search-count').value,
            timeout: document.getElementById('request-timeout').value,
            retryCount: document.getElementById('search-retry-count').value,
            delay: document.getElementById('request-delay').value,
            concurrentThreads: document.getElementById('concurrent-threads').value,
            maxPerSource: document.getElementById('max-per-source').value,
            smartDedup: document.getElementById('smart-dedup').checked,
            autoClassify: document.getElementById('auto-classify').checked,
            saveHistory: document.getElementById('save-search-history').checked
        },
        motrix: {
            host: document.getElementById('motrix-host').value,
            port: document.getElementById('motrix-port').value,
            token: document.getElementById('motrix-token').value,
            timeout: document.getElementById('motrix-timeout').value
        },
        category: {
            enableAutoClassify: document.getElementById('enable-auto-classify').checked,
            autoCreateDirs: document.getElementById('auto-create-dirs').checked,
            moveToCategory: document.getElementById('move-to-category').checked
        },
        advanced: {
            logLevel: document.getElementById('log-level').value,
            logFileSize: document.getElementById('log-file-size').value,
            logFileCount: document.getElementById('log-file-count').value,
            cacheSize: document.getElementById('cache-size').value,
            enableCache: document.getElementById('enable-cache').checked,
            autoUpdate: document.getElementById('auto-update').checked,
            sendAnalytics: document.getElementById('send-analytics').checked
        }
    };
    
    // è¿™é‡Œåº”è¯¥ä¿å­˜è®¾ç½®åˆ°é…ç½®æ–‡ä»¶
    console.log('ä¿å­˜è®¾ç½®:', settings);
    alert('è®¾ç½®å·²ä¿å­˜');
}

function cancelSettings() {
    if (confirm('ç¡®å®šè¦å–æ¶ˆä¿®æ”¹å—ï¼Ÿæœªä¿å­˜çš„æ›´æ”¹å°†ä¸¢å¤±ã€‚')) {
        // è¿™é‡Œå¯ä»¥é‡æ–°åŠ è½½è®¾ç½®
        alert('å·²å–æ¶ˆä¿®æ”¹');
    }
}

// åˆå§‹åŒ–è®¾ç½®é¢æ¿
document.addEventListener('DOMContentLoaded', function() {
    // è¿™é‡Œå¯ä»¥åŠ è½½ä¿å­˜çš„è®¾ç½®
    console.log('è®¾ç½®é¢æ¿å·²åˆå§‹åŒ–');
});
</script>
