# 🎮 RPG资源管理器 - 自动测试指南

## 📋 概述

本指南介绍如何使用自动测试功能，在每次完成任务后自动启动客户端进行测试。

## 🚀 快速开始

### 1. 快速测试 (推荐)
```bash
npm run test
```
或直接运行：
```bash
quick_test.bat
```

**功能特点：**
- ✅ 自动检查并停止现有应用
- ✅ 快速依赖检查
- ✅ 自动启动应用
- ✅ 显示启动状态和进程信息
- ✅ 检查测试文件完整性
- ✅ 提供测试建议

### 2. 任务完成自动测试
```bash
npm run test:complete
```
或直接运行：
```bash
task_complete_auto_test.bat
```

**功能特点：**
- 🎯 专为任务完成后设计
- 📝 记录任务完成历史
- 🔄 自动重启应用应用最新更改
- 📊 显示测试检查清单

## 🛠️ 高级测试选项

### 3. 完整自动测试器
```bash
npm run test:auto
```
或直接运行：
```bash
auto_test_runner.bat
```

**功能特点：**
- 🔄 自动重启功能
- 👀 监控模式
- 📊 详细状态信息
- 🎛️ 交互式控制台

### 4. 简化自动测试器
```bash
npm run test:simple
```
或直接运行：
```bash
simple_auto_test.bat
```

**功能特点：**
- 📋 交互式菜单
- 🔄 应用管理功能
- 📝 日志记录
- 👀 自动监控模式

### 5. 开发自动测试器 (Python)
```bash
npm run test:dev
```
或直接运行：
```bash
python dev_auto_test.py
```

**功能特点：**
- 📁 文件变化监控
- 🔄 自动重启
- 🧪 集成测试功能
- 📝 详细日志记录

**注意：** 需要安装Python和watchdog库：
```bash
pip install watchdog
```

## 📊 测试脚本对比

| 脚本 | 启动速度 | 功能丰富度 | 适用场景 | 推荐度 |
|------|----------|------------|----------|--------|
| `quick_test.bat` | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | 日常开发 | ⭐⭐⭐⭐⭐ |
| `task_complete_auto_test.bat` | ⭐⭐⭐⭐ | ⭐⭐⭐ | 任务完成 | ⭐⭐⭐⭐⭐ |
| `auto_test_runner.bat` | ⭐⭐⭐ | ⭐⭐⭐⭐ | 完整测试 | ⭐⭐⭐⭐ |
| `simple_auto_test.bat` | ⭐⭐⭐ | ⭐⭐⭐⭐ | 交互测试 | ⭐⭐⭐ |
| `dev_auto_test.py` | ⭐⭐ | ⭐⭐⭐⭐⭐ | 开发监控 | ⭐⭐⭐ |

## 🎯 使用建议

### 日常开发流程
1. **完成任务后**：运行 `npm run test:complete`
2. **快速测试**：运行 `npm run test`
3. **深度测试**：运行 `npm run test:auto`

### 开发监控模式
1. **启动监控**：运行 `npm run test:dev`
2. **文件变化时**：自动重启应用
3. **手动控制**：使用交互式菜单

## 📝 日志和记录

### 日志文件位置
- `auto_test.log` - 自动测试日志
- `task_completion.log` - 任务完成记录

### 查看日志
```bash
# 查看最近日志
type auto_test.log | more

# 查看任务完成记录
type task_completion.log | more
```

## 🔧 故障排除

### 常见问题

1. **应用启动失败**
   - 检查依赖：运行 `install.bat`
   - 检查端口占用
   - 查看控制台错误信息

2. **文件监控不工作**
   - 确保安装了watchdog：`pip install watchdog`
   - 检查Python版本兼容性

3. **权限问题**
   - 以管理员身份运行脚本
   - 检查文件权限设置

### 手动测试步骤
1. 停止所有Electron进程
2. 运行 `npm start`
3. 检查应用界面
4. 测试缩略图显示
5. 查看控制台日志 (F12)

## 🎮 测试检查清单

### 基础功能测试
- [ ] 应用正常启动
- [ ] 界面显示正常
- [ ] 缩略图正确显示
- [ ] 图片预览功能正常
- [ ] 搜索功能正常
- [ ] 筛选功能正常

### 图片预览测试
- [ ] 角色类资源显示相关图片
- [ ] 环境类资源显示相关图片
- [ ] 武器类资源显示相关图片
- [ ] UI元素显示相关图片
- [ ] 图片加载失败时显示图标
- [ ] 控制台无错误信息

### 性能测试
- [ ] 应用启动时间 < 10秒
- [ ] 图片加载速度正常
- [ ] 内存使用合理
- [ ] 无内存泄漏

## 📞 技术支持

如果遇到问题，请：
1. 查看日志文件
2. 检查控制台错误
3. 确认依赖完整性
4. 尝试手动启动测试

## 🎯 最佳实践

1. **每次任务完成后**：运行 `npm run test:complete`
2. **开发过程中**：使用 `npm run test:dev` 进行监控
3. **发布前**：运行完整的测试流程
4. **定期检查**：查看日志文件了解应用状态

---

**🎮 享受高效的RPG资源管理器开发体验！**
