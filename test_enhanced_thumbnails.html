<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¢å¼ºç‰ˆç¼©ç•¥å›¾æµ‹è¯•</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: #e8e8e8;
            padding: 20px;
            margin: 0;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        h1 {
            text-align: center;
            color: #00d4ff;
            margin-bottom: 30px;
        }
        
        .test-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .test-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 16px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .test-thumbnail {
            width: 100%;
            height: 120px;
            border-radius: 8px;
            margin-bottom: 12px;
            position: relative;
            overflow: hidden;
        }
        
        .test-thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .test-thumbnail-fallback {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            font-size: 32px;
        }
        
        .test-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #e8e8e8;
        }
        
        .test-category {
            font-size: 12px;
            color: #00ff88;
            background: rgba(0, 255, 136, 0.2);
            padding: 2px 8px;
            border-radius: 12px;
            display: inline-block;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            color: #00d4ff;
        }
        
        .error {
            text-align: center;
            padding: 40px;
            color: #ff6b6b;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ® RPGèµ„æºç®¡ç†å™¨ - å¢å¼ºç‰ˆç¼©ç•¥å›¾æµ‹è¯•</h1>
        
        <div class="test-section">
            <h2>è§’è‰²ç±»èµ„æºæµ‹è¯•</h2>
            <div class="test-grid" id="characterTest">
                <div class="loading">æ­£åœ¨åŠ è½½æµ‹è¯•æ•°æ®...</div>
            </div>
        </div>
        
        <div class="test-section">
            <h2>ç¯å¢ƒç±»èµ„æºæµ‹è¯•</h2>
            <div class="test-grid" id="environmentTest">
                <div class="loading">æ­£åœ¨åŠ è½½æµ‹è¯•æ•°æ®...</div>
            </div>
        </div>
        
        <div class="test-section">
            <h2>æ­¦å™¨ç±»èµ„æºæµ‹è¯•</h2>
            <div class="test-grid" id="weaponTest">
                <div class="loading">æ­£åœ¨åŠ è½½æµ‹è¯•æ•°æ®...</div>
            </div>
        </div>
        
        <div class="test-section">
            <h2>UIå…ƒç´ æµ‹è¯•</h2>
            <div class="test-grid" id="uiTest">
                <div class="loading">æ­£åœ¨åŠ è½½æµ‹è¯•æ•°æ®...</div>
            </div>
        </div>
    </div>

    <script>
        // å¤åˆ¶ä¸»åº”ç”¨ä¸­çš„å‡½æ•°
        function getThumbnailImageUrl(resource) {
            const category = resource.category || 'å…¶ä»–';
            const title = resource.title || '';
            
            // è§’è‰²ç±»å›¾ç‰‡ - ä½¿ç”¨æ¸¸æˆè§’è‰²ç›¸å…³çš„å›¾ç‰‡
            if (category.includes('è§’è‰²') || category.includes('Character')) {
                if (title.includes('å¥³æ€§') || title.includes('å¥³å­©') || title.includes('å¥³')) {
                    return 'https://picsum.photos/300/200?random=101'; // å¥³æ€§è§’è‰²
                } else if (title.includes('ç”·å­©') || title.includes('ç”·æ€§') || title.includes('ç”·')) {
                    return 'https://picsum.photos/300/200?random=102'; // ç”·æ€§è§’è‰²
                } else if (title.includes('æœºå™¨äºº') || title.includes('ç§‘å¹»') || title.includes('æœºæ¢°')) {
                    return 'https://picsum.photos/300/200?random=103'; // æœºå™¨äºº/ç§‘å¹»è§’è‰²
                } else if (title.includes('æˆ˜å£«') || title.includes('Warrior')) {
                    return 'https://picsum.photos/300/200?random=104'; // æˆ˜å£«è§’è‰²
                } else if (title.includes('æ³•å¸ˆ') || title.includes('Mage') || title.includes('æœ¯å£«')) {
                    return 'https://picsum.photos/300/200?random=105'; // æ³•å¸ˆè§’è‰²
                } else if (title.includes('ç›—è´¼') || title.includes('Rogue') || title.includes('åˆºå®¢')) {
                    return 'https://picsum.photos/300/200?random=106'; // ç›—è´¼è§’è‰²
                } else if (title.includes('å¼“ç®­æ‰‹') || title.includes('Archer')) {
                    return 'https://picsum.photos/300/200?random=107'; // å¼“ç®­æ‰‹è§’è‰²
                } else if (title.includes('éª‘å£«') || title.includes('Knight')) {
                    return 'https://picsum.photos/300/200?random=108'; // éª‘å£«è§’è‰²
                } else if (title.includes('ç‰§å¸ˆ') || title.includes('Priest') || title.includes('æ²»ç–—')) {
                    return 'https://picsum.photos/300/200?random=109'; // ç‰§å¸ˆè§’è‰²
                } else if (title.includes('é‡è›®äºº') || title.includes('Barbarian')) {
                    return 'https://picsum.photos/300/200?random=110'; // é‡è›®äººè§’è‰²
                } else if (title.includes('æ¸¸ä¾ ') || title.includes('Ranger')) {
                    return 'https://picsum.photos/300/200?random=111'; // æ¸¸ä¾ è§’è‰²
                } else if (title.includes('æ­¦åƒ§') || title.includes('Monk')) {
                    return 'https://picsum.photos/300/200?random=112'; // æ­¦åƒ§è§’è‰²
                } else {
                    return 'https://picsum.photos/300/200?random=100'; // é»˜è®¤è§’è‰²
                }
            }
            // ç¯å¢ƒç±»å›¾ç‰‡ - ä½¿ç”¨æ¸¸æˆç¯å¢ƒç›¸å…³çš„å›¾ç‰‡
            else if (category.includes('ç¯å¢ƒ') || category.includes('Environment')) {
                if (title.includes('æ£®æ—') || title.includes('è‡ªç„¶') || title.includes('æ ‘æœ¨')) {
                    return 'https://picsum.photos/300/200?random=201'; // æ£®æ—ç¯å¢ƒ
                } else if (title.includes('åŸå ¡') || title.includes('å»ºç­‘') || title.includes('åŸå¸‚')) {
                    return 'https://picsum.photos/300/200?random=202'; // åŸå ¡/å»ºç­‘ç¯å¢ƒ
                } else if (title.includes('æ´ç©´') || title.includes('åœ°ä¸‹') || title.includes('åœ°ç‰¢')) {
                    return 'https://picsum.photos/300/200?random=203'; // æ´ç©´ç¯å¢ƒ
                } else if (title.includes('æ²™æ¼ ') || title.includes('è’åŸ')) {
                    return 'https://picsum.photos/300/200?random=204'; // æ²™æ¼ ç¯å¢ƒ
                } else if (title.includes('é›ªå±±') || title.includes('å†°åŸ')) {
                    return 'https://picsum.photos/300/200?random=205'; // é›ªå±±ç¯å¢ƒ
                } else {
                    return 'https://picsum.photos/300/200?random=200'; // é»˜è®¤ç¯å¢ƒ
                }
            }
            // UIå…ƒç´ å›¾ç‰‡ - ä½¿ç”¨æ¸¸æˆUIç›¸å…³çš„å›¾ç‰‡
            else if (category.includes('UI') || category.includes('UIå…ƒç´ ')) {
                return 'https://picsum.photos/300/200?random=301'; // UIå…ƒç´ 
            }
            // æ­¦å™¨ç±»å›¾ç‰‡ - ä½¿ç”¨æ¸¸æˆæ­¦å™¨ç›¸å…³çš„å›¾ç‰‡
            else if (category.includes('æ­¦å™¨') || category.includes('Weapon')) {
                if (title.includes('å‰‘') || title.includes('Sword')) {
                    return 'https://picsum.photos/300/200?random=401'; // å‰‘ç±»æ­¦å™¨
                } else if (title.includes('å¼“') || title.includes('Bow') || title.includes('ç®­')) {
                    return 'https://picsum.photos/300/200?random=402'; // å¼“ç®­ç±»æ­¦å™¨
                } else if (title.includes('æ³•æ–') || title.includes('Staff') || title.includes('é­”æ–')) {
                    return 'https://picsum.photos/300/200?random=403'; // æ³•æ–ç±»æ­¦å™¨
                } else if (title.includes('ç›¾') || title.includes('Shield')) {
                    return 'https://picsum.photos/300/200?random=404'; // ç›¾ç‰Œ
                } else if (title.includes('æ–§') || title.includes('Axe')) {
                    return 'https://picsum.photos/300/200?random=405'; // æ–§ç±»æ­¦å™¨
                } else if (title.includes('é”¤') || title.includes('Hammer')) {
                    return 'https://picsum.photos/300/200?random=406'; // é”¤ç±»æ­¦å™¨
                } else {
                    return 'https://picsum.photos/300/200?random=400'; // é»˜è®¤æ­¦å™¨
                }
            }
            // ç‰¹æ•ˆç±»å›¾ç‰‡
            else if (category.includes('ç‰¹æ•ˆ') || category.includes('Effect') || category.includes('ç²’å­')) {
                return 'https://picsum.photos/300/200?random=501'; // ç‰¹æ•ˆ
            }
            // éŸ³æ•ˆç±»å›¾ç‰‡
            else if (category.includes('éŸ³æ•ˆ') || category.includes('Audio') || category.includes('éŸ³ä¹')) {
                return 'https://picsum.photos/300/200?random=601'; // éŸ³æ•ˆ
            }
            // é»˜è®¤å›¾ç‰‡
            else {
                return 'https://picsum.photos/300/200?random=999'; // é»˜è®¤å›¾ç‰‡
            }
        }

        function getThumbnailIcon(resource) {
            const category = resource.category || 'å…¶ä»–';
            const modelType = resource.modelType || '3D';
            
            if (category.includes('è§’è‰²') || category.includes('Character')) {
                return modelType === '2D' ? 'ğŸ‘¤' : 'ğŸ‘¤';
            } else if (category.includes('ç¯å¢ƒ') || category.includes('Environment')) {
                return modelType === '2D' ? 'ğŸŒ' : 'ğŸï¸';
            } else if (category.includes('æ­¦å™¨') || category.includes('Weapon')) {
                return modelType === '2D' ? 'âš”ï¸' : 'ğŸ—¡ï¸';
            } else if (category.includes('UI') || category.includes('UIå…ƒç´ ')) {
                return modelType === '2D' ? 'ğŸ–¼ï¸' : 'ğŸ²';
            }
        }

        // æµ‹è¯•æ•°æ®
        const testData = {
            characters: [
                { title: 'å¥‡å¹»æˆ˜å£«è§’è‰²', category: 'è§’è‰²ç±»', modelType: '3D' },
                { title: 'å¡é€šç”·å­©è§’è‰²', category: 'è§’è‰²ç±»', modelType: '3D' },
                { title: 'å¤ä»£æ­¦å£«', category: 'è§’è‰²ç±»', modelType: '3D' },
                { title: 'ç°ä»£æ³•å¸ˆè§’è‰²', category: 'è§’è‰²ç±»', modelType: '3D' },
                { title: 'ç§‘å¹»ç›—è´¼è§’è‰²', category: 'è§’è‰²ç±»', modelType: '3D' },
                { title: 'å¡é€šå¼“ç®­æ‰‹è§’è‰²', category: 'è§’è‰²ç±»', modelType: '3D' },
                { title: 'å†™å®éª‘å£«è§’è‰²', category: 'è§’è‰²ç±»', modelType: '3D' },
                { title: 'åƒç´ ç‰§å¸ˆè§’è‰²', category: 'è§’è‰²ç±»', modelType: '2D' }
            ],
            environments: [
                { title: 'æ£®æ—ç¯å¢ƒ', category: 'ç¯å¢ƒç±»', modelType: '3D' },
                { title: 'åŸå ¡å»ºç­‘', category: 'ç¯å¢ƒç±»', modelType: '3D' },
                { title: 'åœ°ä¸‹æ´ç©´', category: 'ç¯å¢ƒç±»', modelType: '3D' },
                { title: 'æ²™æ¼ è’åŸ', category: 'ç¯å¢ƒç±»', modelType: '3D' },
                { title: 'é›ªå±±å†°åŸ', category: 'ç¯å¢ƒç±»', modelType: '3D' }
            ],
            weapons: [
                { title: 'é­”æ³•å‰‘', category: 'æ­¦å™¨ç±»', modelType: '3D' },
                { title: 'ç²¾çµå¼“', category: 'æ­¦å™¨ç±»', modelType: '3D' },
                { title: 'æ³•å¸ˆæ³•æ–', category: 'æ­¦å™¨ç±»', modelType: '3D' },
                { title: 'éª‘å£«ç›¾ç‰Œ', category: 'æ­¦å™¨ç±»', modelType: '3D' },
                { title: 'æˆ˜æ–§', category: 'æ­¦å™¨ç±»', modelType: '3D' }
            ],
            ui: [
                { title: 'æ¸¸æˆUIå›¾æ ‡åŒ…', category: 'UIå…ƒç´ ', modelType: '2D' },
                { title: 'æŒ‰é’®ç•Œé¢', category: 'UIå…ƒç´ ', modelType: '2D' },
                { title: 'èœå•ç•Œé¢', category: 'UIå…ƒç´ ', modelType: '2D' }
            ]
        };

        // æ¸²æŸ“æµ‹è¯•é¡¹ç›®
        function renderTestItems(containerId, items) {
            const container = document.getElementById(containerId);
            container.innerHTML = items.map(item => {
                const imageUrl = getThumbnailImageUrl(item);
                return `
                    <div class="test-item">
                        <div class="test-thumbnail">
                            <img src="${imageUrl}" alt="${item.title}" 
                                 onload="console.log('æµ‹è¯•å›¾ç‰‡åŠ è½½æˆåŠŸ:', '${item.title}')" 
                                 onerror="console.log('æµ‹è¯•å›¾ç‰‡åŠ è½½å¤±è´¥:', '${item.title}', '${imageUrl}'); this.style.display='none'; this.nextElementSibling.style.display='flex';" />
                            <div class="test-thumbnail-fallback" style="display:none;">
                                ${getThumbnailIcon(item)}
                            </div>
                        </div>
                        <div class="test-title">${item.title}</div>
                        <div class="test-category">${item.category}</div>
                    </div>
                `;
            }).join('');
        }

        // åˆå§‹åŒ–æµ‹è¯•
        document.addEventListener('DOMContentLoaded', () => {
            console.log('å¼€å§‹æµ‹è¯•å¢å¼ºç‰ˆç¼©ç•¥å›¾åŠŸèƒ½...');
            
            renderTestItems('characterTest', testData.characters);
            renderTestItems('environmentTest', testData.environments);
            renderTestItems('weaponTest', testData.weapons);
            renderTestItems('uiTest', testData.ui);
            
            console.log('æµ‹è¯•æ•°æ®æ¸²æŸ“å®Œæˆï¼');
        });
    </script>
</body>
</html>
